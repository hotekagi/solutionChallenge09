<!DOCTYPE html>
<html>
  <head>
    <title>SmartSyncSeminar</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link rel="icon" type="image/svg+xml" href="./favicon.svg" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
      crossorigin="anonymous"
    />
  </head>
  <body style="background-color: #f4f5f7">
    <div class="container">
      <div id="actions-area">
        <div>
          <button
            id="connect-button"
            class="btn btn-primary"
            type="button"
            onclick="webrtcActions.joinAsViewer(); requestCurrentChapter();"
          >
            Connect
          </button>
        </div>
        <div>
          <button
            id="toggle-audio-button"
            class="btn btn-secondary"
            type="button"
            onclick="facialRecognition.startVideo(event)"
          >
            Start Tracking
          </button>
          <button
            id="toggle-video-button"
            class="btn btn-secondary"
            type="button"
            onclick="facialRecognition.stopVideo(event)"
          >
            Stop Tracking
          </button>
        </div>
        <div style="display: flex">
          <div style="white-space: nowrap; margin: auto 10px">
            Current Chapter:
          </div>
          <div id="chapterView" style="white-space: nowrap; margin: auto 10px">
            not set
          </div>
        </div>
        <div>
          <button
            id="disconnect-room-button"
            class="btn btn-danger"
            disabled
            type="button"
            onclick="webrtcActions.disconnectRoom(); stopRecording();"
          >
            Disconnect
          </button>
        </div>
      </div>

      <div id="video-and-chat">
        <div id="video-area">
          <div id="screenshare-area">
            <div>
              <span id="screenshare-info"> </span>
              <span id="screenshare-resolution"> </span>
            </div>
            <video id="screenshare-video" autoplay playsinline></video>
          </div>
          <div id="participants-area"></div>
        </div>
        <div>
          <canvas id="emotionPieChart" style="display: none"></canvas>
          <div class="custom-control custom-checkbox">
            <input
              type="checkbox"
              class="custom-control-input"
              id="toggle-checkbox"
            />
            <label class="custom-control-label" for="toggle-checkbox">
              Filter to Chat only
            </label>
          </div>
          <div class="rounded border border-balck" id="chatContainer">
            <ul id="chatList"></ul>
          </div>
          <div id="chat-send-area">
            <input
              type="textarea"
              id="textInput"
              class="form-control"
              placeholder="Type your message..."
            />
            <button class="btn btn-secondary" onclick="sendChat()">Send</button>
          </div>
        </div>
      </div>

      <div id="container" style="position: relative; margin-top: 240px">
        <div id="maxEmotion">Press "Start Tracking".</div>
        <video
          id="videoel"
          width="400"
          height="300"
          preload="auto"
          loop
          playsinline
          autoplay
        ></video>
        <canvas
          id="overlay"
          width="400"
          height="300"
          preload="auto"
          loop
          playsinline
          autoplay
          style="position: absolute; top: 0; left: 0"
        ></canvas>
      </div>
    </div>

    <script src="./view.bundle.js"></script>
    <link rel="stylesheet" href="./styles.css" />
    <script
      src="https://kit.fontawesome.com/7c1c4c7e9c.js"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
